{"version":3,"file":"js/maquinas.7d55f1bc.js","mappings":"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","sources":["webpack://injettv-vue/./src/views/MaquinasView.vue","webpack://injettv-vue/./src/views/MaquinasView.vue?f608"],"sourcesContent":["<template>\r\n    <div class=\"maquinas\">\r\n        <h1 align=\"center\">Performance Máquinas - {{ galpaoName }}</h1>\r\n    <!-- {{ info }} -->\r\n        <div class=container-g id=\"container\">\r\n          <div class=\"legends\">\r\n            <div id=\"legenda-box\">\r\n                <h6><b>Cor da 1° Coluna</b></h6>\r\n                <div v-for=\"(cor1, index) in legendaColors1\" class=\"color-conteiner\"> \r\n                    <div class=\"cor-p\" :style=back+cor1.style></div>\r\n                    <p>{{cor1.nome}}</p>\r\n                </div>\r\n            </div>\r\n            <div id=\"legenda-box\">\r\n            <h6><b>Cor da 2° Coluna</b></h6>\r\n            <div v-for=\"(cor2, index) in legendaColors2\" class=\"color-conteiner\"> \r\n              <div class=\"cor-p\" :style=back+cor2.style></div>\r\n                <p>{{cor2.nome}} </p>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"maquinas-g col l12\" >\r\n          <table class=\"tes\" name=\"testee\">\r\n              <tr>\r\n                  <th>1ª Coluna</th>\r\n                  <th>2ª Coluna</th>\r\n                  <th>Máquina</th>\r\n                  <th>Descrição do Produto</th>\r\n                  <th>OEE</th>\r\n              </tr>\r\n                <tr v-for=\"(pt, index) in pts\" class=\"teste\" id=\"circle1\">\r\n                    <td><div class=\"quadrado-icons\" :style=back+pt.icone.caminhoIcone></div></td>\r\n                    <td><div class=\"quadrado-icons\" :style=back+pt.icone.corTriangulo></div></td>\r\n                    <td :style=color+pt.icone.caminhoIcone>{{ pt.cdPt}}</td>\r\n                    <td :style=color+pt.icone.caminhoIcone>{{ pt.dsProduto}}</td>\r\n                    <td :style=color+pt.icone.caminhoIcone>{{ pt.indicadores.indiceProdutividadeOEE}}%</td>\r\n                </tr>     \r\n          </table>\r\n      </div>\r\n    </div>\r\n    <h2 class=\"ultima-atualizacao\">Ultima atualizacão: {{ ultimaAtualizacao }}</h2>\r\n</div>\r\n</template>\r\n<script>\r\n    import '../css/maquinas.css'\r\n    import axios from 'axios'\r\n    export default {\r\n    name: 'Maquinas',\r\n    data(){\r\n        return{\r\n            ultimaAtualizacao : null,\r\n            ip : require('/src/config/config.env').API_URL,\r\n            galpaoName : sessionStorage.getItem('galpaoName'),\r\n            cd: '000001',\r\n            info: null,\r\n            color: 'color: ',\r\n            back: 'background-color: ',\r\n            border: ' border-bottom: 20px solid ',\r\n            pts: null,\r\n            turno : null,\r\n            maquinas : undefined,\r\n            legendaColors1 : [\r\n                {nome:'Parada', style: '#c0392b'},\r\n                {nome:'Na Meta', style: '#4cd137'},\r\n                {nome:'Fora da Meta', style: '#f1c40f'},\r\n                {nome:'Offline', style: 'rgb(135, 135, 135)'}\r\n                    ],\r\n            legendaColors2: [\r\n                {nome:'Em Alerta', style: '#f1c40f'},\r\n                {nome:'Sem Planejamento', style: 'blue'},\r\n                {nome:'90% Op Concluída', style: 'rgb(27, 26, 90)'},\r\n                {nome:'Planejamneto Concluído', style: 'rgb(45, 238, 235)'},\r\n                {nome:'Índice de Refugo Maior que 5%', style: 'rgb(142, 142, 142)'},\r\n                {nome:'Parada sem Peso na Eficiência', style: 'rgb(235, 23, 192)'},\r\n                {nome:'Parada não Informada', style: 'rgb(0, 0, 0)'},\r\n                {nome:'CIP(Controle Início Processo)', style: 'rgb(115, 239, 111)'},\r\n                {nome:'Sem Ocorrências', style: '#ffff'}\r\n            ]\r\n        }\r\n    },\r\n    methods:{\r\n        errorF(error){\r\n            sessionStorage.setItem('error', error)\r\n            window.location.href = '/error'\r\n        },\r\n        getToday(){\r\n            var today = new Date();\r\n            var dd = String(today.getDate()).padStart(2, '0');\r\n            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n            var yyyy = today.getFullYear();\r\n            var h = String(today.getHours());\r\n            var m = String(today.getMinutes());\r\n            var s = String(today.getSeconds());\r\n            if(h.length == 1){\r\n                h = '0'+h;\r\n            }\r\n            if(m.length == 1){\r\n                m = '0'+m;\r\n            }\r\n            if(s.length == 1){\r\n                s = '0'+s;\r\n            }\r\n            today = dd + '/' + mm + '/' + yyyy + \"  \" + h+\":\"+m+\":\"+s;\r\n            \r\n            return today;\r\n        },\r\n        getMaquinas(){\r\n            var contador = 0;\r\n            var ptsGlobal;\r\n            var ultimaAtualizacao;\r\n            var globalRequest;\r\n            this.ultimaAtualizacao = this.getToday()\r\n         \r\n                const today = new Date();\r\n                var dd = String(today.getDate()).padStart(2, '0');\r\n                var year = new Date().getFullYear()\r\n                var mes = new Date().getMonth()+1\r\n        \r\n            axios\r\n            .get(`${this.ip}/idw/rest/injet/monitorizacao/turnoAtual`)\r\n            .then(turnoAtual => {\r\n            this.turno = turnoAtual.data.idTurno\r\n                axios.post(`${this.ip}/idw/rest/v2/injet/monitorizacao/postosativos`, {\r\n                    idTurno: turnoAtual.data.idTurno,\r\n                    filtroOp: 0,\r\n                    cdGt: this.cd,\r\n                    turnoAtual: true,\r\n                    dtReferencia: `${dd}/${mes}/${year}`\r\n                })\r\n                .then(res => {         \r\n                    ptsGlobal = res;\r\n                    \r\n                    let abaixoMeta = [], semConexao = [], naMeta = [], parada = [], pts = [], pts_ = [];\r\n                    \r\n                    res.data.pts.forEach(pt => {\r\n                        if(pt.dsProduto !== undefined) {\r\n                            if(pt.dsProduto.indexOf('\\n') !== -1)\r\n                                pt.dsProduto = pt.dsProduto.substring(0, pt.dsProduto.indexOf('\\n'));\r\n                        }\r\n\r\n                        if(pt.icone.caminhoIcone.includes('AbaixoMeta')) {\r\n                            pt.icone.caminhoIcone = '#f1c40f';\r\n                            abaixoMeta.push(pt);\r\n                        }\r\n                        if(pt.icone.caminhoIcone.includes('SemConexao')) {\r\n                            pt.icone.caminhoIcone = '#7f8c8d';\r\n                            semConexao.push(pt);\r\n                        }\r\n                        if(pt.icone.caminhoIcone.includes('NaMeta')) {\r\n                            pt.icone.caminhoIcone = '#4cd137';\r\n                            naMeta.push(pt);\r\n                        }\r\n                        if(pt.icone.caminhoIcone.includes('Parada')) {\r\n                            pt.icone.caminhoIcone = '#c0392b';\r\n                            parada.push(pt);\r\n                        }\r\n                    });\r\n                    pts = pts.concat(naMeta, abaixoMeta, parada,    semConexao);\r\n                    \r\n                    if(sessionStorage.getItem('maquinasList') != 'null'){   \r\n                        var maquinas = JSON.parse(sessionStorage.getItem('maquinasList'))\r\n                        maquinas.forEach((maquina) => {\r\n                            pts.forEach((pt) =>{\r\n                                if (pt.cdPt == maquina) \r\n                                    pts_.push(pt)\r\n                            })\r\n                        });\r\n                        this.info = pts_\r\n                        pts = pts_;\r\n                    };\r\n                    // BLOCO DE LÓGICA, QUE FAZ  LOOP DA TABELA\r\n                    var itemsPerView = 5;\r\n                    var view_atual;\r\n                    var view_max = itemsPerView;\r\n                    var init = 0;\r\n                    view_atual = pts.filter((item, index) => index >= init && index < view_max);\r\n                    this.pts = view_atual\r\n                    setInterval(() => {\r\n                        view_atual = pts.filter((item, index) => index >= init && index < view_max);\r\n                        view_max += itemsPerView;\r\n                        init += itemsPerView;                       \r\n                        if(view_atual.length === 0){\r\n                            if(sessionStorage.getItem('paradas') == 'true'){\r\n                                window.location.href = '/parada'\r\n                            }else if(sessionStorage.getItem('produtividade') == 'true'){\r\n                                window.location.href = '/produtividade'\r\n                            }else{\r\n                                window.location.reload();\r\n                            }\r\n                        }else{\r\n                            this.pts = view_atual\r\n                        }\r\n                    }, 15000);\r\n                    // FIM DO BLOCO\r\n                    this.turno = res\r\n                })\r\n                .catch((error) => this.errorF(error));\r\n            })\r\n            .catch(errorTurnoAtual => this.errorF(errorTurnoAtual))\r\n        }\r\n    },\r\n    mounted () {\r\n        document.title = `Performance Máquinas - ${sessionStorage.getItem('galpaoName')}`\r\n        this.cd = sessionStorage.getItem('galpao')\r\n        this.getMaquinas();\r\n    }\r\n}\r\n</script>","import { render } from \"./MaquinasView.vue?vue&type=template&id=6c23f473\"\nimport script from \"./MaquinasView.vue?vue&type=script&lang=js\"\nexport * from \"./MaquinasView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\mathe\\\\Documents\\\\desenvolvimento\\\\injettv-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","align","id","_createElementVNode","name","_createElementBlock","_hoisted_1","_hoisted_2","$data","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","cor1","index","_hoisted_7","style","nome","_hoisted_8","_hoisted_9","cor2","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","pt","_hoisted_14","icone","caminhoIcone","corTriangulo","cdPt","dsProduto","indicadores","indiceProdutividadeOEE","_hoisted_15","data","ultimaAtualizacao","ip","require","galpaoName","sessionStorage","getItem","cd","info","color","back","border","pts","turno","maquinas","undefined","legendaColors1","legendaColors2","methods","errorF","error","setItem","window","location","href","getToday","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","h","getHours","m","getMinutes","s","getSeconds","length","getMaquinas","this","year","mes","axios","then","turnoAtual","idTurno","filtroOp","cdGt","dtReferencia","res","abaixoMeta","semConexao","naMeta","parada","pts_","forEach","indexOf","substring","includes","push","concat","JSON","parse","maquina","view_atual","itemsPerView","view_max","init","filter","item","setInterval","reload","catch","errorTurnoAtual","mounted","document","title","__exports__","render"],"sourceRoot":""}
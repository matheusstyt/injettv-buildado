"use strict";(self["webpackChunkinjettv_vue"]=self["webpackChunkinjettv_vue"]||[]).push([[922],{8548:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var a=n(6252),o=n(3577);const i=t=>((0,a.dD)("data-v-abd77610"),t=t(),(0,a.Cn)(),t),s={class:"maquinas"},c={align:"center"},r={class:"container",id:"container"},l={class:"col l12",style:{display:"inline-block",margin:"0 auto"}},u=i((()=>(0,a._)("tr",null,[(0,a._)("th",null,"1ª Coluna"),(0,a._)("th",null,"2ª Coluna"),(0,a._)("th",null,"Máquina"),(0,a._)("th",null,"Descrição do Produto"),(0,a._)("th",null,"OEE")],-1))),d={class:"teste",id:"circle1"},g={class:"ultima-atualizacao"};function m(t,e,n,i,m,h){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("h1",c,"Performance Máquinas - "+(0,o.zw)(m.galpaoName),1),(0,a._)("div",r,[(0,a._)("div",l,[(0,a._)("table",null,[u,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.pts,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",d,[(0,a._)("td",null,[(0,a._)("div",{class:"quadrado-icons",style:(0,o.j5)(m.back+t.icone.caminhoIcone)},null,4)]),(0,a._)("td",null,[(0,a._)("div",{class:"quadrado-icons",style:(0,o.j5)(m.back+t.icone.corTriangulo)},null,4)]),(0,a._)("td",{style:(0,o.j5)(m.color+t.icone.caminhoIcone)},(0,o.zw)(t.cdPt),5),(0,a._)("td",{style:(0,o.j5)(m.color+t.icone.caminhoIcone)},(0,o.zw)(t.dsProduto),5),(0,a._)("td",{style:(0,o.j5)(m.color+t.icone.caminhoIcone)},(0,o.zw)(t.indicadores.indiceProdutividadeOEE)+"%",5)])))),256))])])]),(0,a._)("h2",g,"Ultima atualizacão: "+(0,o.zw)(m.ultimaAtualizacao),1)])}n(7658);var h=n(2793),f=n(594),p={name:"Maquinas",components:{Preloader:h.Z},created(){setInterval((()=>{this.getMaquinas()}),15e3)},data(){return{ultimaAtualizacao:null,ip:n(7437).API_URL,galpaoName:sessionStorage.getItem("galpaoName"),cd:"000001",info:null,color:"color: ",back:"background-color: ",border:" border-bottom: 20px solid ",pts:null,turno:null,maquinas:void 0,legendaColors1:[{nome:"Parada",style:"#c0392b"},{nome:"Na Meta",style:"#4cd137"},{nome:"Fora da Meta",style:"#f1c40f"},{nome:"Offline",style:"rgb(135, 135, 135)"}],legendaColors2:[{nome:"Em Alerta",style:"#f1c40f"},{nome:"Sem Planejamento",style:"blue"},{nome:"90% Op Concluída",style:"rgb(27, 26, 90)"},{nome:"Planejamneto Concluído",style:"rgb(45, 238, 235)"},{nome:"Índice de Refugo Maior que 5%",style:"rgb(142, 142, 142)"},{nome:"Parada sem Peso na Eficiência",style:"rgb(235, 23, 192)"},{nome:"Parada não Informada",style:"rgb(0, 0, 0)"},{nome:"CIP(Controle Início Processo)",style:"rgb(115, 239, 111)"},{nome:"Sem Ocorrências",style:"#ffff"}]}},methods:{getToday(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return t=n+"/"+e+"/"+a+"  "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),t},getMaquinas(){function t(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds();return String(t.getHours()).length<2&&(o="0"+String(t.getHours())),String(t.getMinutes()).length<2&&(i="0"+String(t.getMinutes())),String(t.getSeconds()).length<2&&(s="0"+String(t.getSeconds())),t=n+"/"+e+"/"+a+"  "+o+":"+i+":"+s,t}this.ultimaAtualizacao=this.getToday();const e=new Date;var n=String(e.getDate()).padStart(2,"0"),a=(new Date).getFullYear(),o=(new Date).getMonth()+1;this.info=`${n}/${o}/${a}`,f.Z.get(`${this.ip}/idw/rest/injet/monitorizacao/turnoAtual`).then((e=>{this.turno=e.data.idTurno,f.Z.post(`${this.ip}/idw/rest/v2/injet/monitorizacao/postosativos`,{idTurno:e.data.idTurno,filtroOp:0,cdGt:this.cd,turnoAtual:!0,dtReferencia:`${n}/${o}/${a}`}).then((e=>{e,t();let n=[],a=[],o=[],i=[],s=[],c=[];e.data.pts.forEach((t=>{void 0!==t.dsProduto&&-1!==t.dsProduto.indexOf("\n")&&(t.dsProduto=t.dsProduto.substring(0,t.dsProduto.indexOf("\n"))),t.icone.caminhoIcone.includes("AbaixoMeta")&&(t.icone.caminhoIcone="#f1c40f",n.push(t)),t.icone.caminhoIcone.includes("SemConexao")&&(t.icone.caminhoIcone="#7f8c8d",a.push(t)),t.icone.caminhoIcone.includes("NaMeta")&&(t.icone.caminhoIcone="#4cd137",o.push(t)),t.icone.caminhoIcone.includes("Parada")&&(t.icone.caminhoIcone="#c0392b",i.push(t))})),s=s.concat(o,n,i,a),"string"===typeof this.maquinas&&this.maquinas&&(c=c.concat(s.filter((t=>{if(t.cdPt===this.maquinas)return t}))),s=c),"undefined"!==typeof this.maquinas&&"object"!==typeof this.maquinas||this.maquinas&&(this.maquinas.forEach((t=>{c=c.concat(s.filter((e=>{if(e.cdPt===t)return e})))})),s=c),this.pts=s,this.turno=e})).catch((t=>{this.turno=t}))})).catch((t=>this.info=t))}},mounted(){this.cd=sessionStorage.getItem("galpao"),this.getMaquinas()}},b=n(3744);const y=(0,b.Z)(p,[["render",m],["__scopeId","data-v-abd77610"]]);var S=y}}]);
//# sourceMappingURL=maquinas.c92a4412.js.map
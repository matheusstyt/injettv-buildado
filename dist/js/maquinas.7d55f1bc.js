"use strict";(self["webpackChunkinjettv_vue"]=self["webpackChunkinjettv_vue"]||[]).push([[922],{4968:function(e,o,t){t.r(o),t.d(o,{default:function(){return C}});var n=t(6252),a=t(3577);const i={class:"maquinas"},l={align:"center"},s={class:"container-g",id:"container"},r={class:"legends"},c={id:"legenda-box"},d=(0,n._)("h6",null,[(0,n._)("b",null,"Cor da 1° Coluna")],-1),u={class:"color-conteiner"},g={id:"legenda-box"},m=(0,n._)("h6",null,[(0,n._)("b",null,"Cor da 2° Coluna")],-1),h={class:"color-conteiner"},f={class:"maquinas-g col l12"},p={class:"tes",name:"testee"},_=(0,n._)("tr",null,[(0,n._)("th",null,"1ª Coluna"),(0,n._)("th",null,"2ª Coluna"),(0,n._)("th",null,"Máquina"),(0,n._)("th",null,"Descrição do Produto"),(0,n._)("th",null,"OEE")],-1),v={class:"teste",id:"circle1"},w={class:"ultima-atualizacao"};function b(e,o,t,b,I,y){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("h1",l,"Performance Máquinas - "+(0,a.zw)(I.galpaoName),1),(0,n._)("div",s,[(0,n._)("div",r,[(0,n._)("div",c,[d,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(I.legendaColors1,((e,o)=>((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",{class:"cor-p",style:(0,a.j5)(I.back+e.style)},null,4),(0,n._)("p",null,(0,a.zw)(e.nome),1)])))),256))]),(0,n._)("div",g,[m,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(I.legendaColors2,((e,o)=>((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",{class:"cor-p",style:(0,a.j5)(I.back+e.style)},null,4),(0,n._)("p",null,(0,a.zw)(e.nome),1)])))),256))])]),(0,n._)("div",f,[(0,n._)("table",p,[_,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(I.pts,((e,o)=>((0,n.wg)(),(0,n.iD)("tr",v,[(0,n._)("td",null,[(0,n._)("div",{class:"quadrado-icons",style:(0,a.j5)(I.back+e.icone.caminhoIcone)},null,4)]),(0,n._)("td",null,[(0,n._)("div",{class:"quadrado-icons",style:(0,a.j5)(I.back+e.icone.corTriangulo)},null,4)]),(0,n._)("td",{style:(0,a.j5)(I.color+e.icone.caminhoIcone)},(0,a.zw)(e.cdPt),5),(0,n._)("td",{style:(0,a.j5)(I.color+e.icone.caminhoIcone)},(0,a.zw)(e.dsProduto),5),(0,n._)("td",{style:(0,a.j5)(I.color+e.icone.caminhoIcone)},(0,a.zw)(e.indicadores.indiceProdutividadeOEE)+"%",5)])))),256))])])]),(0,n._)("h2",w,"Ultima atualizacão: "+(0,a.zw)(I.ultimaAtualizacao),1)])}t(7658);var I=t(594),y={name:"Maquinas",data(){return{ultimaAtualizacao:null,ip:t(7437).API_URL,galpaoName:sessionStorage.getItem("galpaoName"),cd:"000001",info:null,color:"color: ",back:"background-color: ",border:" border-bottom: 20px solid ",pts:null,turno:null,maquinas:void 0,legendaColors1:[{nome:"Parada",style:"#c0392b"},{nome:"Na Meta",style:"#4cd137"},{nome:"Fora da Meta",style:"#f1c40f"},{nome:"Offline",style:"rgb(135, 135, 135)"}],legendaColors2:[{nome:"Em Alerta",style:"#f1c40f"},{nome:"Sem Planejamento",style:"blue"},{nome:"90% Op Concluída",style:"rgb(27, 26, 90)"},{nome:"Planejamneto Concluído",style:"rgb(45, 238, 235)"},{nome:"Índice de Refugo Maior que 5%",style:"rgb(142, 142, 142)"},{nome:"Parada sem Peso na Eficiência",style:"rgb(235, 23, 192)"},{nome:"Parada não Informada",style:"rgb(0, 0, 0)"},{nome:"CIP(Controle Início Processo)",style:"rgb(115, 239, 111)"},{nome:"Sem Ocorrências",style:"#ffff"}]}},methods:{errorF(e){sessionStorage.setItem("error",e),window.location.href="/error"},getToday(){var e=new Date,o=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),a=String(e.getHours()),i=String(e.getMinutes()),l=String(e.getSeconds());return 1==a.length&&(a="0"+a),1==i.length&&(i="0"+i),1==l.length&&(l="0"+l),e=o+"/"+t+"/"+n+"  "+a+":"+i+":"+l,e},getMaquinas(){this.ultimaAtualizacao=this.getToday();const e=new Date;var o=String(e.getDate()).padStart(2,"0"),t=(new Date).getFullYear(),n=(new Date).getMonth()+1;I.Z.get(`${this.ip}/idw/rest/injet/monitorizacao/turnoAtual`).then((e=>{this.turno=e.data.idTurno,I.Z.post(`${this.ip}/idw/rest/v2/injet/monitorizacao/postosativos`,{idTurno:e.data.idTurno,filtroOp:0,cdGt:this.cd,turnoAtual:!0,dtReferencia:`${o}/${n}/${t}`}).then((e=>{e;let o=[],t=[],n=[],a=[],i=[],l=[];if(e.data.pts.forEach((e=>{void 0!==e.dsProduto&&-1!==e.dsProduto.indexOf("\n")&&(e.dsProduto=e.dsProduto.substring(0,e.dsProduto.indexOf("\n"))),e.icone.caminhoIcone.includes("AbaixoMeta")&&(e.icone.caminhoIcone="#f1c40f",o.push(e)),e.icone.caminhoIcone.includes("SemConexao")&&(e.icone.caminhoIcone="#7f8c8d",t.push(e)),e.icone.caminhoIcone.includes("NaMeta")&&(e.icone.caminhoIcone="#4cd137",n.push(e)),e.icone.caminhoIcone.includes("Parada")&&(e.icone.caminhoIcone="#c0392b",a.push(e))})),i=i.concat(n,o,a,t),"null"!=sessionStorage.getItem("maquinasList")){var s=JSON.parse(sessionStorage.getItem("maquinasList"));s.forEach((e=>{i.forEach((o=>{o.cdPt==e&&l.push(o)}))})),this.info=l,i=l}var r,c=5,d=c,u=0;r=i.filter(((e,o)=>o>=u&&o<d)),this.pts=r,setInterval((()=>{r=i.filter(((e,o)=>o>=u&&o<d)),d+=c,u+=c,0===r.length?"true"==sessionStorage.getItem("paradas")?window.location.href="/parada":"true"==sessionStorage.getItem("produtividade")?window.location.href="/produtividade":window.location.reload():this.pts=r}),15e3),this.turno=e})).catch((e=>this.errorF(e)))})).catch((e=>this.errorF(e)))}},mounted(){document.title=`Performance Máquinas - ${sessionStorage.getItem("galpaoName")}`,this.cd=sessionStorage.getItem("galpao"),this.getMaquinas()}},P=t(3744);const S=(0,P.Z)(y,[["render",b]]);var C=S}}]);
//# sourceMappingURL=maquinas.7d55f1bc.js.map
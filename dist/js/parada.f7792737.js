"use strict";(self["webpackChunkinjettv_vue"]=self["webpackChunkinjettv_vue"]||[]).push([[212],{5623:function(a,t,e){e.r(t),e.d(t,{default:function(){return P}});var o=e(6252),l=e(3577);const r=a=>((0,o.dD)("data-v-4a5017cf"),a=a(),(0,o.Cn)(),a),n={class:"paradas"},s={class:"center-align"},c={class:"container"},i=r((()=>(0,o._)("tr",null,[(0,o._)("th",null,"MÁQUINA"),(0,o._)("th",null,"DESCRIÇÃO"),(0,o._)("th",null,"DURAÇÃO (HH:MM:SS)")],-1))),d={class:"teste",id:"circle1"},u={class:"ultima-atualizacao"};function p(a,t,e,r,p,m){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("h1",s,"Paradas | Alertas - "+(0,l.zw)(p.galpaoName),1),(0,o._)("div",c,[(0,o._)("table",null,[i,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.pts,((a,t)=>((0,o.wg)(),(0,o.iD)("tr",d,[(0,o._)("td",{style:(0,l.j5)(p.color+a.cor)},[(0,o._)("b",null,(0,l.zw)(a.cdPt),1)],4),(0,o._)("td",{style:(0,l.j5)(p.color+a.cor)},[(0,o._)("b",null,(0,l.zw)(a.descricao),1)],4),(0,o._)("td",{style:(0,l.j5)(p.color+a.cor)},[(0,o._)("b",null,(0,l.zw)(a.tempo),1)],4)])))),256))])]),(0,o._)("div",null,[(0,o._)("h2",u,"Ultima atualizacão: "+(0,l.zw)(p.ultimaAtualizacao),1)])])}e(7658);var m=e(594),g={name:"Maquinas",components:{},created(){setInterval((()=>{this.getParadas()}),15e3)},data(){return{ultimaAtualizacao:null,ip:e(7437).API_URL,galpaoName:sessionStorage.getItem("galpaoName"),cd:"000001",color:"color: ",pts:null,turno:null,maquinas:void 0,legendaColors1:[{nome:"Parada",color:"#c0392b"},{nome:"Na Meta",color:"#4cd137"},{nome:"Fora da Meta",color:"#f1c40f"},{nome:"Offline",color:"rgb(135, 135, 135)"}],legendaColors2:[{nome:"Em Alerta",color:"#f1c40f"},{nome:"Sem Planejamento",color:"blue"},{nome:"90% Op Concluída",color:"rgb(27, 26, 90)"},{nome:"Planejamneto Concluído",color:"rgb(45, 238, 235)"},{nome:"Índice de Refugo Maior que 5%",color:"rgb(142, 142, 142)"},{nome:"Parada sem Peso na Eficiência",color:"rgb(235, 23, 192)"},{nome:"Parada não Informada",color:"rgb(0, 0, 0)"},{nome:"CIP(Controle Início Processo)",color:"rgb(115, 239, 111)"},{nome:"Sem Ocorrências",color:"#ffff"}]}},methods:{getToday(){var a=new Date,t=String(a.getDate()).padStart(2,"0"),e=String(a.getMonth()+1).padStart(2,"0"),o=a.getFullYear();return a=e+"/"+t+"/"+o+"  "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),a},async getParadas(){this.ultimaAtualizacao=this.getToday(),await m.Z.all([m.Z.get(`${this.ip}/idw/rest/injet/paradas/pesquisaParadasByGalpao`,{params:{cdGalpao:this.cd}}),m.Z.get(`${this.ip}/idw/rest/injet/alertas/pesquisaAlertasByGalpao`,{params:{cdGalpao:this.cd}})]).then(m.Z.spread(((a,t)=>{let e=[],o=[],l=[],r=[],n="";for(var s=0;s<a.data.paradasGalpao.length;s++){let t=a.data.paradasGalpao[s].tempoParado.split(":");t[0].length<2&&(t[0]="0"+t[0]),t[1].length<2&&(t[1]="0"+t[1]),t[2].length<2&&(t[2]="0"+t[2]),n=t[0]+":"+t[1]+":"+t[2],o.push({cdPt:a.data.paradasGalpao[s].cdInjetora,tempo:n,descricao:a.data.paradasGalpao[s].dsParada,cor:"#ff0000"})}for(var c=0;c<t.data.alertasGalpao.length;c++){let a=t.data.alertasGalpao[c].tempoAlerta.split(":");a[0].length<2&&(a[0]="0"+a[0]),a[1].length<2&&(a[1]="0"+a[1]),a[2].length<2&&(a[2]="0"+a[2]),n=a[0]+":"+a[1]+":"+a[2],e.push({cdPt:t.data.alertasGalpao[c].cdInjetora,tempo:n,descricao:t.data.alertasGalpao[c].dsAlerta,cor:"#ff8b16"})}l=l.concat(o,e),"string"===typeof this.maquinas&&this.maquinas&&(r=r.concat(l.filter((a=>{if(a.cdPt===this.maquinas)return a}))),l=r),"undefined"!==typeof this.maquinas&&"object"!==typeof this.maquinas||this.maquinas&&(this.maquinas.forEach((a=>{r=r.concat(l.filter((t=>{if(t.cdPt===a)return t})))})),l=r),this.pts=l}))).catch((a=>{this.pts=a}))}},mounted(){this.cd=sessionStorage.getItem("galpao"),this.getParadas()}},h=e(3744);const f=(0,h.Z)(g,[["render",p],["__scopeId","data-v-4a5017cf"]]);var P=f}}]);
//# sourceMappingURL=parada.f7792737.js.map